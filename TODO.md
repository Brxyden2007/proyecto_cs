perfeccionar el diseno del pdf

crear los nuevos pdfs   

perfeccionar el readme y la nueva estructura de archivos 

crear los repositories, interfaces y servicios de las entidades 

CRUD de administrador

hacer el ver catalogo completo de varieddaes y filtrar variedades (menu de usuarios) \

configurar de forma correcta los pdf y ficha tecnica para que queden modularizados


necesito que al momento de convocar este metodo en el apartado de MenuPdf el usuario pueda ver a traves de una consulta linq todas las variedades disponibles con su id y el nombre para que si el usuario quiera ver la variedad en especifica, que la escriba y se genere el pdf automaticamente, que deberia de modificar en este archivo para hacer esto posible? deberia de hacer esto en el MenuPdf o en la misma clase del VarriedadPdfGenerator? using System;using System.Collections.Generic;using System.Drawing;using System.Linq;using System.Threading.Tasks;using QuestPDF.Fluent;using QuestPDF.Helpers;using QuestPDF.Infrastructure;using Microsoft.EntityFrameworkCore;using proyecto_cs.src.modules.variedades.domain.models;namespace proyecto_cs.src.shared.utils.pdf;public class VariedadPdfGenerator{private readonly Variedad _variedad;public VariedadPdfGenerator(Variedad variedad) =>_variedad = variedad;public VariedadPdfGenerator(string? variedad){}public DocumentMetadata GetMetadata() => DocumentMetadata.Default;public Task Compose(AppDbContext context){var variedad = context.Variedades.Include(v => v.Rendimiento).Include(v => v.TamanioGrano).Include(v => v.Porte).Include(v => v.Altitud).Include(v => v.CalidadAltitud).FirstOrDefault(v => v.IdVariedad == 1);QuestPDF.Settings.License = LicenseType.Community;Document.Create(container =>{container.Page(page =>{// esta parte es para definir la parte del diseño del pdfpage.Size(PageSizes.A4);// pixeles de magin como si fuera un csspage.Margin(20);// definir fuentepage.DefaultTextStyle(x => x.FontSize(12));page.Background();// bacground de la paginapage.PageColor("#F1f1f1");page.Content().Row(row =>{// ======= LADO IZQUIERDO =======row.RelativeItem(1).Column(col =>{// Caja de encabezado con nombre, descripción e imagencol.Item().Border(1).Background(Colors.Green.Medium).Padding(15).Column(c =>{c.Item().Text(_variedad.NombreComun).FontSize(28).Bold().FontColor(Colors.White);c.Item().Text(_variedad.Descripcion).FontColor(Colors.White).FontSize(12);});col.Spacing(10);// Yield potentialcol.Item().Column(c =>{c.Item().Text("YIELD POTENTIAL").Bold().FontColor(Colors.Green.Medium);c.Item().Text($"{_variedad.Rendimiento?.Nivel}").FontSize(14);});col.Spacing(5);// Bean sizecol.Item().Column(c =>{c.Item().Text("BEAN SIZE").Bold().FontColor(Colors.Green.Medium);c.Item().Text($"{_variedad.TamanioGrano?.Nombre.Clone()}");});// Coffee leaf rustcol.Item().Column(c =>{c.Item().Text("COFFEE LEAF RUST").Bold().FontColor(Colors.Green.Medium);c.Item().Text("Resistant");c.Item().Border(1).Background(Colors.Green.Medium).Height(10);});// Nematodecol.Item().Column(c =>{c.Item().Text("NEMATODE").Bold().FontColor(Colors.Green.Medium);c.Item().Text("Resistant");c.Item().Border(1).Background(Colors.Green.Medium).Height(10);});// Coffee berry borercol.Item().Column(c =>{c.Item().Text("COFFEE BERRY BORER").Bold().FontColor(Colors.Green.Medium);c.Item().Text("Susceptible");c.Item().Border(1).Background(Colors.Grey.Medium).Height(10);});});// ======= LADO DERECHO =======row.RelativeItem(1.2f).Column(col =>{// Imagen principal// col.Item().Image(_variedad.ImagenUrl, ImageScaling.FitArea);col.Item().Image(Image.FromFile(_variedad.ImagenUrl));// Característicascol.Item().PaddingTop(10).Text("CHARACTERISTICS").FontSize(18).Bold().FontColor(Colors.White).BackgroundColor(Colors.Green.Medium);// .Padding(5);col.Item().Column(c =>{AddCharacteristic(c, "YIELD POTENTIAL", $"{_variedad.Rendimiento?.Nivel}");AddCharacteristic(c, "COUNTRY OF RELEASE", "Indonesia");AddCharacteristic(c, "CONTENTS OF MUCILAGE IN THE CHERRY", "Average");AddCharacteristic(c, "COFFEE BERRY DISEASE", "Tolerant");AddCharacteristic(c, "SHOOT HOLE BORER", "Susceptible");});// Agronomíacol.Item().PaddingTop(10).Text("AGRONOMICS").FontSize(18).Bold().FontColor(Colors.Green.Medium);col.Item().Table(table =>{table.ColumnsDefinition(columns =>{columns.RelativeColumn();});table.Cell().Text("Stature");table.Cell().Text("Year of first production");table.Cell().Text("Nutrition requirement");table.Cell().Text("Ripening of fruit");table.Cell().Text("Cherry to green bean outrun");});});});});}).GeneratePdf($"Variedad_{_variedad.IdVariedad}.pdf");return Task.CompletedTask;}private void AddCharacteristic(ColumnDescriptor col, string title, string value){col.Item().Row(r =>{r.RelativeItem().Text(title).Bold();r.RelativeItem().Text(value);});}} 